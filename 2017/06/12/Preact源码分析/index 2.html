<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Preactæºç åˆ†æ â€¢ åˆ˜å“ˆå“ˆçš„ç¢ç¢å¿µ</title><meta name="description" content="Preactæºç åˆ†æ - åˆ˜å“ˆå“ˆ"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="https://unpkg.com/nanoreset/nanoreset.min.css"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="åˆ˜å“ˆå“ˆçš„ç¢ç¢å¿µ"></head><body><div class="wrap" id="barba-wrapper"><header><h1 class="branding"><a href="/" title="åˆ˜å“ˆå“ˆçš„ç¢ç¢å¿µ"><img class="logo-image" src="/logo.jpg" alt="logo"></a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link no-barba" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link no-barba" href="/about" target="_self">ABOUT</a></li><li class="nav-list-item"><a class="nav-list-link no-barba" href="/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link no-barba" href="https://github.com/liuyangzuo" target="_blank">GITHUB</a></li></ul></header><div class="barba-container"><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Preactæºç åˆ†æ</h1><div class="post-info"><a></a>2017-06-12</div><div class="post-content"><h2 id="1-åŸºæœ¬çŸ¥è¯†"><a href="#1-åŸºæœ¬çŸ¥è¯†" class="headerlink" title="1.åŸºæœ¬çŸ¥è¯†"></a>1.åŸºæœ¬çŸ¥è¯†</h2><h3 id="1-1-JSXç®€ä»‹"><a href="#1-1-JSXç®€ä»‹" class="headerlink" title="1.1 JSXç®€ä»‹"></a>1.1 JSXç®€ä»‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">  &#125;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (&lt;div&gt;APP&lt;/div&gt;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="1-2-Vnode-hyperscript-Rreact-CreateElement-h-babelç®€ä»‹"><a href="#1-2-Vnode-hyperscript-Rreact-CreateElement-h-babelç®€ä»‹" class="headerlink" title="1.2 Vnode hyperscript/Rreact.CreateElement/h/babelç®€ä»‹"></a>1.2 Vnode hyperscript/Rreact.CreateElement/h/babelç®€ä»‹</h3><h3 id="1-3-0-Preact-h-â€˜divâ€™-children-Preact-h-â€˜divâ€™-children-åŒºåˆ«"><a href="#1-3-0-Preact-h-â€˜divâ€™-children-Preact-h-â€˜divâ€™-children-åŒºåˆ«" class="headerlink" title="1.3 (0,Preact.h)(â€˜divâ€™,{},[children])  /  Preact.h(â€˜divâ€™,{},[children])åŒºåˆ«"></a>1.3 (0,Preact.h)(â€˜divâ€™,{},[children])  /  Preact.h(â€˜divâ€™,{},[children])åŒºåˆ«</h3><h2 id="2-Preact-Component"><a href="#2-Preact-Component" class="headerlink" title="2.Preact  Component"></a>2.Preact  Component</h2><h3 id="2-1-Preact-Component-å®ä¾‹-Stateless-Component-Dump-Component-Smart-Componentç®€ä»‹"><a href="#2-1-Preact-Component-å®ä¾‹-Stateless-Component-Dump-Component-Smart-Componentç®€ä»‹" class="headerlink" title="2.1 Preact Component å®ä¾‹/ Stateless Component / Dump Component/ Smart Componentç®€ä»‹"></a>2.1 Preact Component å®ä¾‹/ Stateless Component / Dump Component/ Smart Componentç®€ä»‹</h3><h3 id="2-2-ComponentåŸºç±»å®ç°-è‡ªå®šä¹‰Compotentå’ŒåŸºç±»çš„å…³ç³»-Stateless-Componentå¦‚ä½•å®ç°"><a href="#2-2-ComponentåŸºç±»å®ç°-è‡ªå®šä¹‰Compotentå’ŒåŸºç±»çš„å…³ç³»-Stateless-Componentå¦‚ä½•å®ç°" class="headerlink" title="2.2 ComponentåŸºç±»å®ç°/è‡ªå®šä¹‰Compotentå’ŒåŸºç±»çš„å…³ç³»/Stateless Componentå¦‚ä½•å®ç°"></a>2.2 ComponentåŸºç±»å®ç°/è‡ªå®šä¹‰Compotentå’ŒåŸºç±»çš„å…³ç³»/Stateless Componentå¦‚ä½•å®ç°</h3><h3 id="2-3-Componentç»†èŠ‚ï¼Œstate-props-dirty-disable"><a href="#2-3-Componentç»†èŠ‚ï¼Œstate-props-dirty-disable" class="headerlink" title="2.3 Componentç»†èŠ‚ï¼Œstate? props? dirty? disable?"></a>2.3 Componentç»†èŠ‚ï¼Œstate? props? dirty? disable?</h3><h2 id="3-åˆæ¬¡æ¸²æŸ“"><a href="#3-åˆæ¬¡æ¸²æŸ“" class="headerlink" title="3 åˆæ¬¡æ¸²æŸ“"></a>3 åˆæ¬¡æ¸²æŸ“</h2><h3 id="3-1-TextNode-DOM-Node-Preact-Component-æ„å»ºç®€ä»‹"><a href="#3-1-TextNode-DOM-Node-Preact-Component-æ„å»ºç®€ä»‹" class="headerlink" title="3.1 TextNode/DOM Node/Preact Component æ„å»ºç®€ä»‹"></a>3.1 TextNode/DOM Node/Preact Component æ„å»ºç®€ä»‹</h3><h3 id="3-2-Preact-Component-æ„å»ºç»†èŠ‚-buildComponentFromVNode-setComponentProps-renderComponent"><a href="#3-2-Preact-Component-æ„å»ºç»†èŠ‚-buildComponentFromVNode-setComponentProps-renderComponent" class="headerlink" title="3.2 Preact Component æ„å»ºç»†èŠ‚(buildComponentFromVNode, setComponentProps, renderComponent)"></a>3.2 Preact Component æ„å»ºç»†èŠ‚(buildComponentFromVNode, setComponentProps, renderComponent)</h3><h3 id="3-3-Preact-Component-ä¸DOMå¦‚ä½•å»ºç«‹æ˜ å°„-innerDiffNode"><a href="#3-3-Preact-Component-ä¸DOMå¦‚ä½•å»ºç«‹æ˜ å°„-innerDiffNode" class="headerlink" title="3.3 Preact Component ä¸DOMå¦‚ä½•å»ºç«‹æ˜ å°„(innerDiffNode)"></a>3.3 Preact Component ä¸DOMå¦‚ä½•å»ºç«‹æ˜ å°„(innerDiffNode)</h3><h3 id="3-4-äº‹ä»¶å¤„ç†-style-class-dangerouslySetInnerHTML"><a href="#3-4-äº‹ä»¶å¤„ç†-style-class-dangerouslySetInnerHTML" class="headerlink" title="3.4 äº‹ä»¶å¤„ç†/ style/class/dangerouslySetInnerHTML"></a>3.4 äº‹ä»¶å¤„ç†/ style/class/dangerouslySetInnerHTML</h3><h2 id="4-æ›´æ–°æ¸²æŸ“-setState"><a href="#4-æ›´æ–°æ¸²æŸ“-setState" class="headerlink" title="4.æ›´æ–°æ¸²æŸ“(setState)"></a>4.æ›´æ–°æ¸²æŸ“(setState)</h2><h3 id="4-1-diffåŸåˆ™å’Œæœºåˆ¶ä»‹ç»"><a href="#4-1-diffåŸåˆ™å’Œæœºåˆ¶ä»‹ç»" class="headerlink" title="4.1 diffåŸåˆ™å’Œæœºåˆ¶ä»‹ç»"></a>4.1 diffåŸåˆ™å’Œæœºåˆ¶ä»‹ç»</h3><h3 id="4-2-æ›´æ–°DOMç»†èŠ‚"><a href="#4-2-æ›´æ–°DOMç»†èŠ‚" class="headerlink" title="4.2 æ›´æ–°DOMç»†èŠ‚"></a>4.2 æ›´æ–°DOMç»†èŠ‚</h3><h3 id="4-3-æ›´æ–°attributesç»†èŠ‚"><a href="#4-3-æ›´æ–°attributesç»†èŠ‚" class="headerlink" title="4.3 æ›´æ–°attributesç»†èŠ‚"></a>4.3 æ›´æ–°attributesç»†èŠ‚</h3><h2 id="5-setStatexç»†èŠ‚"><a href="#5-setStatexç»†èŠ‚" class="headerlink" title="5.setStatexç»†èŠ‚"></a>5.setStatexç»†èŠ‚</h2><h3 id="5-1åŒæ­¥ï¼Ÿå¼‚æ­¥ï¼ŸforceUpdate-no-render"><a href="#5-1åŒæ­¥ï¼Ÿå¼‚æ­¥ï¼ŸforceUpdate-no-render" class="headerlink" title="5.1åŒæ­¥ï¼Ÿå¼‚æ­¥ï¼ŸforceUpdate? no render?"></a>5.1åŒæ­¥ï¼Ÿå¼‚æ­¥ï¼ŸforceUpdate? no render?</h3><h2 id="6-å¸è½½"><a href="#6-å¸è½½" class="headerlink" title="6.å¸è½½"></a>6.å¸è½½</h2><h3 id="6-1-DOMå¸è½½"><a href="#6-1-DOMå¸è½½" class="headerlink" title="6.1 DOMå¸è½½"></a>6.1 DOMå¸è½½</h3><h3 id="6-2-Preact-Componentå¸è½½"><a href="#6-2-Preact-Componentå¸è½½" class="headerlink" title="6.2 Preact Componentå¸è½½"></a>6.2 Preact Componentå¸è½½</h3><h2 id="7-ç”Ÿå‘½å‘¨æœŸå®ç°"><a href="#7-ç”Ÿå‘½å‘¨æœŸå®ç°" class="headerlink" title="7.ç”Ÿå‘½å‘¨æœŸå®ç°"></a>7.ç”Ÿå‘½å‘¨æœŸå®ç°</h2><h3 id="7-1ç”Ÿå‘½å‘¨æœŸä»‹ç»"><a href="#7-1ç”Ÿå‘½å‘¨æœŸä»‹ç»" class="headerlink" title="7.1ç”Ÿå‘½å‘¨æœŸä»‹ç»"></a>7.1ç”Ÿå‘½å‘¨æœŸä»‹ç»</h3><h3 id="7-2ç”Ÿå‘½å‘¨æœŸå®ç°ç»†èŠ‚"><a href="#7-2ç”Ÿå‘½å‘¨æœŸå®ç°ç»†èŠ‚" class="headerlink" title="7.2ç”Ÿå‘½å‘¨æœŸå®ç°ç»†èŠ‚"></a>7.2ç”Ÿå‘½å‘¨æœŸå®ç°ç»†èŠ‚</h3><h2 id="8-ç•ªå¤–"><a href="#8-ç•ªå¤–" class="headerlink" title="8.ç•ªå¤–"></a>8.ç•ªå¤–</h2><h3 id="8-1é€’å½’diffLevel-hydrating-svg"><a href="#8-1é€’å½’diffLevel-hydrating-svg" class="headerlink" title="8.1é€’å½’diffLevel/hydrating/svg"></a>8.1é€’å½’diffLevel/hydrating/svg</h3><h3 id="8-2options-hook"><a href="#8-2options-hook" class="headerlink" title="8.2options hook"></a>8.2options hook</h3><h3 id="8-3æ€§èƒ½ç›¸å…³-splitText"><a href="#8-3æ€§èƒ½ç›¸å…³-splitText" class="headerlink" title="8.3æ€§èƒ½ç›¸å…³ splitText ?"></a>8.3æ€§èƒ½ç›¸å…³ splitText ?</h3><h3 id="8-4ç»„ä»¶å›æ”¶collectComponent"><a href="#8-4ç»„ä»¶å›æ”¶collectComponent" class="headerlink" title="8.4ç»„ä»¶å›æ”¶collectComponent"></a>8.4ç»„ä»¶å›æ”¶collectComponent</h3><h2 id="9-æ€»ç»“-å›¾è§£"><a href="#9-æ€»ç»“-å›¾è§£" class="headerlink" title="9.æ€»ç»“/å›¾è§£"></a>9.æ€»ç»“/å›¾è§£</h2></div></article></div></main><footer><div class="paginator"><a class="prev" href="/2017/07/01/Preact Routerå®ç°åŸç†/">prev</a><a class="next" href="/2017/06/07/react swipeå®ç°/">next</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'liuyangzuo-github-io';
var disqus_identifier = '2017/06/12/Preactæºç åˆ†æ/';
var disqus_title = 'Preactæºç åˆ†æ';
var disqus_url = 'http://liuyangzuo.github.io/2017/06/12/Preactæºç åˆ†æ/';
(function () {
    var dsq = document.createElement('script'); dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//liuyangzuo-github-io.disqus.com/count.js" async></script><div class="copyright"><script src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><p>&copy; 2014-2017 <a href="http://liuyangzuo.github.io">åˆ˜å“ˆå“ˆ</a><span id="busuanzi_container_site_pv">&nbsp;&nbsp;&nbsp;ğŸµ&nbsp;&nbsp;</span><span id="busuanzi_value_site_pv">æ¬¡<br>Powered by <a href="https://hexo.io/" rel="noreferrer" target="_blank">Hexo</a></span></p></div></footer></div></div><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-106126178-1']);
_gaq.push(['_trackPageview']);

(function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script><script src="https://cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.js"></script><script>document.addEventListener('DOMContentLoaded', function() {
    Barba.Pjax.start()
})</script></body></html>